@prefix : <https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl> .

<https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl> a owl:Ontology .


#################################################################
#    Properties
#################################################################


:hasIngredient a owl:ObjectProperty ;
               owl:inverseOf :usedToMake ;
               rdfs:domain :Food ;
               rdfs:range :Food .


:hasSubstitute a owl:ObjectProperty ,
                 owl:SymmetricProperty ;
               rdfs:domain :Food ;
               rdfs:range :Food .


#################################################################
#    Base classes
#################################################################


:Food a owl:Class .


:Dessert a owl:Class ;
         rdfs:subClassOf :Food ,
                         [ a owl:Restriction ;
                           owl:onProperty :hasIngredient ;
                           owl:someValuesFrom :Food
                         ] ;
         owl:disjointWith :Ingredient .


:NamedDessert rdfs:subClassOf :Dessert .


:Ingredient a owl:Class ;
            rdfs:subClassOf :Food .


#################################################################
#    Inferenced classes
#################################################################


:AlcoholicFood owl:equivalentClass [ owl:intersectionOf ( :Food
                                                          [ a owl:Restriction ;
                                                            owl:onProperty :hasIngredient ;
                                                            owl:someValuesFrom :AlcoholicFood
                                                          ]
                                                        )
                                   ] .


:NonAlcoholicFood a owl:Class ;
                     owl:equivalentClass [ owl:intersectionOf ( :Food
                                                                [ a owl:Class ;
                                                                  owl:complementOf :AlcoholicFood
                                                                ]
                                                              ) ;
                                           a owl:Class
                                         ] .


:LactoseFreeFood a owl:Class ;
                    owl:equivalentClass [ owl:intersectionOf ( :Food
                                                               [ a owl:Restriction ;
                                                                 owl:onProperty :hasIngredient ;
                                                                 owl:allValuesFrom :LactoseFreeFood
                                                               ]
                                                             )
                                        ] .


:NonLactoseFreeFood a owl:Class ;
                       owl:equivalentClass [ owl:intersectionOf ( :Food
                                                                  [ a owl:Class ;
                                                                    owl:complementOf :LactoseFreeFood
                                                                  ]
                                                                ) ;
                                             a owl:Class
                                           ] .


:GlutenFreeFood a owl:Class ;
                   owl:equivalentClass [ owl:intersectionOf ( :Food
                                                              [ a owl:Restriction ;
                                                                owl:onProperty :hasIngredient ;
                                                                owl:allValuesFrom :GlutenFreeFood
                                                              ]
                                                            )
                                       ] .


:NonGlutenFreeFood a owl:Class ;
                      owl:equivalentClass [ owl:intersectionOf ( :Food
                                                                 [ a owl:Class ;
                                                                   owl:complementOf :GlutenFreeFood
                                                                 ]
                                                               ) ;
                                            a owl:Class
                                          ] .


:HasVeganEquivalent a owl:Class ;
                    owl:equivalentClass [ owl:intersectionOf ( :Food
                                                               [ a owl:Restriction ;
                                                                 owl:onProperty :hasIngredient ;
                                                                 owl:allValuesFrom [ owl:unionOf ( :HasPlantSubstitute
                                                                                                   :VeganFood
                                                                                                   :HasVeganEquivalent
                                                                                                 )
                                                                                   ]
                                                               ]
                                                             )
                                        ] .


:VeganFood owl:equivalentClass [ owl:intersectionOf ( :HasVeganEquivalent
                                                         [ a owl:Class ;
                                                           owl:complementOf [ a owl:Restriction ;
                                                                              owl:onProperty :hasIngredient ;
                                                                              owl:someValuesFrom [ owl:unionOf (
                                                                                                                 :NonVeganFood
                                                                                                               )
                                                                                                 ]
                                                                            ]
                                                         ]
                                                       )
                                  ] .


:NonVeganFood a owl:Class ;
                 owl:equivalentClass [ owl:intersectionOf ( :Food
                                                            [ a owl:Class ;
                                                              owl:complementOf :VeganFood
                                                            ]
                                                          )
                                     ] .


:HasSubstitute owl:equivalentClass [ a owl:Restriction ;
                                     owl:onProperty :hasSubstitute ;
                                     owl:minCardinality "1"^^xsd:nonNegativeInteger
                                   ] .


:HasPlantSubstitute owl:equivalentClass [ a owl:Restriction ;
                                          owl:onProperty :hasSubstitute ;
                                          owl:someValuesFrom :VeganFood
                                        ] ;
                    rdfs:subClassOf :HasSubstitute .


#################################################################
#    Food groups
#################################################################


:Seed rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :LactoseFreeFood .


:Sugar rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Vegetable rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Grain rdfs:subClassOf :Seed .


:Wheat rdfs:subClassOf :NonGlutenFreeFood , :Grain .


:Nut rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Alcohol rdfs:subClassOf :VeganFood , :AlcoholicFood, :LactoseFreeFood .


:Dairy rdfs:subClassOf :NonVeganFood , :NonAlcoholicFood, :GlutenFreeFood, :NonLactoseFreeFood .


:Egg rdfs:subClassOf :NonVeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Fruit rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Rice rdfs:subClassOf :Seed , :GlutenFreeFood .


:Wine rdfs:subClassOf :Alcohol , :GlutenFreeFood .


#################################################################
#    Ingredients
#################################################################


:Almond rdfs:subClassOf :Nut .

:ChickenEgg rdfs:subClassOf :Egg .

:CowMilk rdfs:subClassOf :Dairy ,
                         [ a owl:Restriction ;
                           owl:onProperty :hasSubstitute ;
                           owl:someValuesFrom :SoyMilk
                         ] .

:WheatFlour rdfs:subClassOf :Wheat ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasSubstitute ;
                              owl:someValuesFrom :RiceFlour
                            ] .

:RiceFlour rdfs:subClassOf :Rice .

:EggWhite rdfs:subClassOf :Egg .


:SliceOfBread rdfs:subClassOf :Wheat .

:SoyMilk rdfs:subClassOf :Vegetable .

:MarsalaWine rdfs:subClassOf :Wine .


#################################################################
#    Desserts
#################################################################


:Tiramisu a owl:Class ;
          rdfs:subClassOf :NamedDessert ,
                          [ a owl:Restriction ;
                            owl:onProperty :hasIngredient ;
                            owl:someValuesFrom :MarsalaWine
                          ] ,
                          [ a owl:Restriction ;
                            owl:onProperty :hasIngredient ;
                            owl:allValuesFrom [ a owl:Class ;
                                                owl:unionOf ( :MarsalaWine
                                                            )
                                              ]
                          ] .


:AlmondTart a owl:Class ;
            rdfs:subClassOf :NamedDessert ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Almond
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Sugar
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:allValuesFrom [ a owl:Class ;
                                                  owl:unionOf ( :Almond
                                                                :Sugar
                                                              )
                                                ]
                            ] .


:BreadAndButterPudding a owl:Class ;
                       rdfs:subClassOf :NamedDessert ,
                                       [ a owl:Restriction ;
                                         owl:onProperty :hasIngredient ;
                                         owl:someValuesFrom :SliceOfBread
                                       ] ,
                                       [ a owl:Restriction ;
                                         owl:onProperty :hasIngredient ;
                                         owl:someValuesFrom :Sponge
                                       ] ,
                                       [ a owl:Restriction ;
                                         owl:onProperty :hasIngredient ;
                                         owl:allValuesFrom [ a owl:Class ;
                                                             owl:unionOf ( :SliceOfBread
                                                                           :Sponge
                                                                         )
                                                           ]
                                       ] .


:Sponge a owl:Class ;
        rdfs:subClassOf :NamedDessert ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:someValuesFrom :WheatFlour
                        ] ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:someValuesFrom :CowMilk
                        ] ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:allValuesFrom [ a owl:Class ;
                                              owl:unionOf (
                                                            :WheatFlour
                                                            :CowMilk
                                                          )
                                            ]
                        ] .
