@prefix : <https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@base <https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl> .

<https://raw.githubusercontent.com/IwoHerka/dessert-ontology/master/desserts.owl> a owl:Ontology .


#################################################################
#    Properties
#################################################################


:hasIngredient a owl:ObjectProperty ;
               owl:inverseOf :usedToMake ;
               rdfs:domain :Food ;
               rdfs:range :Food .


:hasSubstitute a owl:ObjectProperty ,
                 owl:SymmetricProperty ,
                 owl:TransitiveProperty ;
               owl:inverseOf :hasSubstitute ;
               rdfs:domain :Food ;
               rdfs:range :Food .


#################################################################
#    Base classes
#################################################################


:Food a owl:Class .


:Dessert a owl:Class ;
         rdfs:subClassOf :Food ,
                         [ a owl:Restriction ;
                           owl:onProperty :hasIngredient ;
                           owl:someValuesFrom :Food
                         ] .


:NamedDessert rdfs:subClassOf :Dessert .


#################################################################
#    Inferenced classes
#################################################################


:AlcoholicFood owl:equivalentClass
    [ owl:intersectionOf
        ( :Food
          [ a owl:Restriction ;
            owl:onProperty :hasIngredient ;
            owl:someValuesFrom :AlcoholicFood
           ]
        )
    ] .


:NonAlcoholicFood owl:equivalentClass
    [ owl:intersectionOf ( :Food [ owl:complementOf :AlcoholicFood ] ) ] .


:LactoseFreeFood owl:equivalentClass
    [ owl:intersectionOf
        ( :Food [ a owl:Restriction ;
                  owl:onProperty :hasIngredient ;
                  owl:allValuesFrom :LactoseFreeFood ] ) ] .


:NonLactoseFreeFood a owl:Class ;
                       owl:equivalentClass [ owl:intersectionOf ( :Food
                                                                  [ a owl:Class ;
                                                                    owl:complementOf :LactoseFreeFood
                                                                  ]
                                                                ) ;
                                             a owl:Class
                                           ] .


:GlutenFreeFood a owl:Class ;
                   owl:equivalentClass [ owl:intersectionOf ( :Food
                                                              [ a owl:Restriction ;
                                                                owl:onProperty :hasIngredient ;
                                                                owl:allValuesFrom :GlutenFreeFood
                                                              ]
                                                            )
                                       ] .


:NonGlutenFreeFood a owl:Class ;
                      owl:equivalentClass [ owl:intersectionOf ( :Food
                                                                 [ a owl:Class ;
                                                                   owl:complementOf :GlutenFreeFood
                                                                 ]
                                                               ) ;
                                            a owl:Class
                                          ] .


:HasVeganEquivalent owl:equivalentClass
    [ owl:intersectionOf
        ( :Food
          [ a owl:Restriction ;
            owl:onProperty :hasIngredient ;
            owl:allValuesFrom [ owl:unionOf ( :HasPlantSubstitute
                                              :VeganFood
                                              :HasVeganEquivalent
                                            )
                              ]
          ]
        )
    ] .


:HasLactoseFreeEquivalent
    a owl:Class ;
    owl:equivalentClass
        [ owl:intersectionOf
            ( :Food
              [ a owl:Restriction ;
                owl:onProperty :hasIngredient ;
                owl:allValuesFrom [ owl:unionOf ( :HasLactoseFreeSubstitute
                                                  :LactoseFreeFood
                                                  :HasLactoseFreeEquivalent
                                                )
                                  ]
              ]
            )
        ] .


:HasGlutenFreeEquivalent
    a owl:Class ;
    owl:equivalentClass
        [ owl:intersectionOf
            ( :Food
              [ a owl:Restriction ;
                owl:onProperty :hasIngredient ;
                owl:allValuesFrom [ owl:unionOf ( :HasGlutenFreeSubstitute
                                                  :GlutenFreeFood
                                                  :HasGlutenFreeEquivalent
                                                )
                                  ]
              ]
            )
        ] .


:VeganFood owl:equivalentClass [ owl:intersectionOf ( :HasVeganEquivalent
                                                         [ a owl:Class ;
                                                           owl:complementOf [ a owl:Restriction ;
                                                                              owl:onProperty :hasIngredient ;
                                                                              owl:someValuesFrom [ owl:unionOf (
                                                                                                                 :NonVeganFood
                                                                                                               )
                                                                                                 ]
                                                                            ]
                                                         ]
                                                       )
                                  ] .


:NonVeganFood a owl:Class ;
                 owl:equivalentClass [ owl:intersectionOf ( :Food
                                                            [ a owl:Class ;
                                                              owl:complementOf :VeganFood
                                                            ]
                                                          )
                                     ] .


:HasSubstitute owl:equivalentClass [ a owl:Restriction ;
                                     owl:onProperty :hasSubstitute ;
                                     owl:minCardinality "1"^^xsd:nonNegativeInteger
                                   ] .


:HasPlantSubstitute owl:equivalentClass [ a owl:Restriction ;
                                          owl:onProperty :hasSubstitute ;
                                          owl:someValuesFrom :VeganFood
                                        ] ;
                    rdfs:subClassOf :HasSubstitute .


:HasLactoseFreeSubstitute owl:equivalentClass
    [ a owl:Restriction ;
      owl:onProperty :hasSubstitute ;
      owl:someValuesFrom :LactoseFreeFood
    ] ;
    rdfs:subClassOf :HasSubstitute .


:HasGlutenFreeSubstitute owl:equivalentClass
    [ a owl:Restriction ;
      owl:onProperty :hasSubstitute ;
      owl:someValuesFrom :GlutenFreeFood
    ] ;
    rdfs:subClassOf :HasSubstitute .


#################################################################
#    Food groups
#################################################################


:Seed rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :LactoseFreeFood .


:Sugar rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Grain rdfs:subClassOf :Seed .


:Wheat rdfs:subClassOf :NonGlutenFreeFood , :Grain .


:Nut rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Alcohol rdfs:subClassOf :VeganFood , :AlcoholicFood, :LactoseFreeFood .


:Dairy rdfs:subClassOf :NonVeganFood , :NonAlcoholicFood, :GlutenFreeFood, :NonLactoseFreeFood .


:Egg rdfs:subClassOf :NonVeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Fruit rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Bean rdfs:subClassOf :VeganFood , :NonAlcoholicFood, :GlutenFreeFood, :LactoseFreeFood .


:Rice rdfs:subClassOf :Seed , :GlutenFreeFood .


:PlantOil rdfs:subClassOf :Seed , :GlutenFreeFood .


:Soy rdfs:subClassOf :Bean .


:Wine rdfs:subClassOf :Alcohol , :GlutenFreeFood .


#################################################################
#    Ingredients
#################################################################


:Almond rdfs:subClassOf :Nut .

:CowMilk rdfs:subClassOf
    :Dairy ,
    [ a owl:Restriction ;
      owl:onProperty :hasSubstitute ;
      owl:someValuesFrom [ owl:unionOf ( :SoyMilk :RiceMilk ) ]
    ] .

:Flour rdfs:subClassOf :Wheat ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasSubstitute ;
                          owl:someValuesFrom [ owl:unionOf ( :RiceFlour :BananaFlour ) ]
                        ] .

:RiceFlour rdfs:subClassOf :Rice .

:RiceMilk rdfs:subClassOf :Rice .

:BananaFlour rdfs:subClassOf :Banana .

:EggWhite rdfs:subClassOf :Egg .

:SliceOfBread rdfs:subClassOf :Flour .

:SoyMilk rdfs:subClassOf :Soy .

:Apple rdfs:subClassOf :Fruit .

:Butter rdfs:subClassOf :CowMilk .
                        [ a owl:Restriction ;
                          owl:onProperty :hasSubstitute ;
                          owl:someValuesFrom :Margarine
                        ] .

:Margarine rdfs:subClassOf :PlantOil .

:Crumb rdfs:subClassOf :Flour .

:Banana rdfs:subClassOf :Fruit .

:BiscuitCrumb rdfs:subClassOf :Flour .


:Cream rdfs:subClassOf
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Egg
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :CowMilk
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Egg :CowMilk ) ]
    ] .


:Toffee rdfs:subClassOf
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Sugar
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Butter
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Nut
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Sugar :Butter :Nut ) ]
    ] .


:Jam rdfs:subClassOf
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Fruit
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Sugar
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Fruit :Sugar ) ]
    ] .


:Marzipan rdfs:subClassOf
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Almond
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Sugar
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Almond :Sugar ) ]
    ] .


:VanillaEssence rdfs:subClassOf :PlantOil .

:SesameSeed rdfs:subClassOf :Seed, :GlutenFreeFood .

:OrangeZest rdfs:subClassOf :Fruit .

:HeavyCream rdfs:subClassOf :Cream .

:Cocoa rdfs:subClassOf :Bean .

:CocoaPowder rdfs:subClassOf :Cocoa .

:Chocolate rdfs:subClassOf :CocoaPowder .

:ChocolateChip rdfs:subClassOf :Chocolate .

:Rum rdfs:subClassOf :Alcohol, :GlutenFreeFood .

:Cherry rdfs:subClassOf :Fruit .

:CocoaPowder rdfs:subClassOf :Cocoa .

:WhippedCream rdfs:subClassOf :Cream .

:ChocolateCurl rdfs:subClassOf :Chocolate .

:Kirsch rdfs:subClassOf :Alcohol , :GlutenFreeFood .


#################################################################
#    Desserts
#################################################################


:AlmondTart a owl:Class ;
            rdfs:subClassOf :NamedDessert ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Almond
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Egg
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :CowMilk
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Sugar
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:someValuesFrom :Flour
                            ] ,
                            [ a owl:Restriction ;
                              owl:onProperty :hasIngredient ;
                              owl:allValuesFrom [ a owl:Class ;
                                                  owl:unionOf ( :Almond
                                                                :Egg
                                                                :CowMilk
                                                                :Sugar
                                                                :Flour
                                                              )
                                                ]
                            ] .


:Sponge rdfs:subClassOf :NamedDessert ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:someValuesFrom :Flour
                        ] ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:someValuesFrom :CowMilk
                        ] ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:someValuesFrom :Egg
                        ] ,
                        [ a owl:Restriction ;
                          owl:onProperty :hasIngredient ;
                          owl:allValuesFrom [ a owl:Class ;
                                              owl:unionOf (
                                                            :Egg
                                                            :Flour
                                                            :CowMilk
                                                          )
                                            ]
                        ] .


:AngelFoodCake rdfs:subClassOf :NamedDessert ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :EggWhite
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Sponge
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Sugar
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:allValuesFrom [ a owl:Class ;
                                                     owl:unionOf (
                                                                   :EggWhite
                                                                   :Sponge
                                                                   :Sugar
                                                                 )
                                                   ]
                                ] .


:AppleBrownBetty rdfs:subClassOf :NamedDessert ,
                                 [ a owl:Restriction ;
                                   owl:onProperty :hasIngredient ;
                                   owl:someValuesFrom :Apple
                                 ] ,
                                 [ a owl:Restriction ;
                                   owl:onProperty :hasIngredient ;
                                   owl:someValuesFrom :Crumb
                                 ] ,
                                 [ a owl:Restriction ;
                                   owl:onProperty :hasIngredient ;
                                   owl:someValuesFrom :Butter
                                 ] ,
                                 [ a owl:Restriction ;
                                   owl:onProperty :hasIngredient ;
                                   owl:someValuesFrom :SliceOfBread
                                 ] ,
                                 [ a owl:Restriction ;
                                   owl:onProperty :hasIngredient ;
                                   owl:allValuesFrom [ a owl:Class ;
                                                       owl:unionOf (
                                                                     :Apple
                                                                     :Crumb
                                                                     :Butter
                                                                     :SliceOfBread
                                                                   )
                                                     ]
                                 ] .


:AppleCharlotte rdfs:subClassOf :NamedDessert ,
                                [ a owl:Restriction ;
                                  owl:onProperty :hasIngredient ;
                                  owl:someValuesFrom :Apple
                                ] ,
                                [ a owl:Restriction ;
                                  owl:onProperty :hasIngredient ;
                                  owl:someValuesFrom :Sugar
                                ] ,
                                [ a owl:Restriction ;
                                  owl:onProperty :hasIngredient ;
                                  owl:someValuesFrom :SliceOfBread
                                ] ,
                                [ a owl:Restriction ;
                                  owl:onProperty :hasIngredient ;
                                  owl:someValuesFrom :Butter
                                ] ,
                                [ a owl:Restriction ;
                                  owl:onProperty :hasIngredient ;
                                  owl:allValuesFrom [ a owl:Class ;
                                                      owl:unionOf (
                                                                    :Apple
                                                                    :Sugar
                                                                    :SliceOfBread
                                                                    :Butter
                                                                  )
                                                    ]
                                 ] .


:AppleCrumble rdfs:subClassOf :NamedDessert ,
                                [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Apple
                                ] ,
                                [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Flour
                                ] ,
                                [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Sugar
                                ] ,
                                [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Butter
                                ] ,
                                [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:allValuesFrom [ a owl:Class ;
                                                     owl:unionOf (
                                                                   :Apple
                                                                   :Flour
                                                                   :Sugar
                                                                   :Butter
                                                                 )
                                                   ]
                                ] .


:BananaMuffins rdfs:subClassOf :NamedDessert ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Banana
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Flour
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Egg
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :Sugar
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:someValuesFrom :CowMilk
                               ] ,
                               [ a owl:Restriction ;
                                 owl:onProperty :hasIngredient ;
                                 owl:allValuesFrom [ a owl:Class ;
                                                     owl:unionOf (
                                                                   :Banana
                                                                   :Flour
                                                                   :Egg
                                                                   :CowMilk
                                                                   :Sugar
                                                                 )
                                                   ]
                               ] .


:BanoffePie rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Banana
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Cream
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Toffee
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :BiscuitCrumb
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ a owl:Class ;
                          owl:unionOf (
                                        :Banana
                                        :Cream
                                        :Toffee
                                        :BiscuitCrumb
                                      )
                        ]
    ] .


:BattenbergCake rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Sponge
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Jam
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Marzipan
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Sponge :Jam :Marzipan ) ]
    ] .


:BelgianWaffles rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Egg
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :CowMilk
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Flour
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Sugar
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :VanillaEssence
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Egg :CowMilk :Flour :Sugar :VanillaEssence ) ]
    ] .


:BiscottiRegina rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :SesameSeed
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :OrangeZest
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Flour
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Egg
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :CowMilk
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :SesameSeed :OrangeZest :Flour :Egg :CowMilk ) ]
    ] .


:BiscuitTortoni rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :HeavyCream
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Almond
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :ChocolateChip
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Rum
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :HeavyCream :Almond :ChocolateChip :Rum ) ]
    ] .


:BlackForestGateau rdfs:subClassOf
    :NamedDessert ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Cherry
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :CocoaPowder
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Egg
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :WhippedCream
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :Kirsch
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:someValuesFrom :ChocolateCurl
    ] ,
    [ a owl:Restriction ;
      owl:onProperty :hasIngredient ;
      owl:allValuesFrom [ owl:unionOf ( :Cherry :CocoaPowder :Egg :WhippedCream :Kirsch :ChocolateCurl ) ]
    ] .
